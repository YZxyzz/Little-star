# APP功能规格说明

## 一、产品定位

### 1.1 APP角色

**小星伴父母APP** 是父母端的核心入口，承载以下职责：

| 职责 | 描述 |
|------|------|
| **设备管理** | 配对、设置、固件更新 |
| **内容接收** | 接收硬件采集的音频和AI分析结果 |
| **报告查看** | 查看每日/周/月成长报告 |
| **教育指导** | 获取与孩子互动的建议 |
| **档案管理** | 长期成长档案的存储和回顾 |

### 1.2 目标用户

| 用户类型 | 特点 | 核心需求 |
|---------|------|---------|
| **主要用户** | 3-7岁孩子的父母 | 了解孩子、学习如何沟通 |
| **次要用户** | 祖父母、保姆 | 查看孩子动态 |

### 1.3 使用场景

| 场景 | 时间 | 用户行为 |
|------|------|---------|
| 晨间设备检查 | 早上 | 确认设备电量、网络状态 |
| 工作间隙查看 | 白天 | 收到推送后查看孩子对话摘要 |
| **晚间报告阅读** | 晚上 | 详细阅读每日报告，学习互动建议 |
| 周末回顾 | 周末 | 查看周报，规划亲子活动 |

---

## 二、功能清单

### 2.1 核心功能（P0 - Must Have）

#### F0: 登录与注册

> **更新日期**：2025-02-05
> **重要性**：所有功能的前置条件

| 功能点 | 描述 | 用户故事 |
|--------|------|---------|
| **启动画面** | 品牌Logo展示，1.5-2秒 | 作为用户，我希望快速启动APP，同时感受到品牌专业性 |
| **欢迎页** | 首次打开展示产品价值点和IP形象 | 作为新用户，我希望快速了解产品能帮我做什么 |
| **手机号登录** | 手机号+验证码快速登录/注册 | 作为用户，我希望不用记住密码，快速登录 |
| **微信登录** | 微信一键授权登录 | 作为用户，我希望有更便捷的登录方式 |
| **协议确认** | 勾选用户协议和隐私政策 | 作为用户，我希望了解我的数据如何被使用 |

**未登录状态**：
- 只能访问：启动画面、欢迎页、登录页
- 不能访问：任何需要账号的功能

#### F1: 设备绑定与管理

| 功能点 | 描述 | 用户故事 |
|--------|------|---------|
| **绑定引导页** | 登录后无设备时显示，引导开始绑定 | 作为新用户，我希望清楚知道下一步该做什么 |
| **创建孩子档案** | 绑定第一步，填写孩子基本信息 | 作为父母，我希望AI能了解我的孩子 |
| **设备配对** | BLE扫描+配对，长按激活+APP自动发现 | 作为父母，我希望能快速连接设备 |
| **连接状态** | 显示连接进度和状态 | 作为父母，我希望知道连接是否成功 |
| **流量激活** | 激活设备内置蜂窝流量卡（首年免费） | 作为父母，我希望设备开箱即用 |
| **激活成功动画** | 绑定完成后的炫酷庆祝动画 | 作为父母，我希望有成就感和仪式感 |
| **设备状态** | 查看电量、网络信号、流量余额 | 作为父母，我希望随时知道设备状态 |
| **固件更新** | OTA更新设备固件 | 作为父母，我希望设备能自动保持最新 |
| **设备解绑** | 解除设备与账号的绑定关系 | 作为父母，我希望能更换或转让设备 |

**已登录未绑定状态**：
- 只能访问：绑定引导页、绑定流程
- 不能访问：首页、记录、我的（完整功能）

#### F2: 实时消息

| 功能点 | 描述 | 用户故事 |
|--------|------|---------|
| **对话通知** | 孩子有大量对话后推送摘要 | 作为父母，我希望及时知道孩子在聊什么 |
| **消息列表** | 查看历史推送消息 | 作为父母，我希望回顾之前错过的消息 |
| **快速预览** | 不进入详情即可预览内容 | 作为父母，我希望快速浏览不打断工作 |

#### F3: 每日成长报告

| 功能点 | 描述 | 用户故事 |
|--------|------|---------|
| **今日总结** | 3-5句话概括孩子今天的情况 | 作为父母，我希望快速了解孩子的一天 |
| **关键事件** | 今天发生的重要事件列表 | 作为父母，我希望知道有哪些值得关注的事 |
| **情绪分析** | 孩子今日整体情绪状态 | 作为父母，我希望了解孩子的情绪变化 |
| **话题热点** | 孩子今天最关注的话题 | 作为父母，我希望知道孩子对什么感兴趣 |
| **互动建议** | 如何与孩子聊今天的事 | 作为父母，我希望知道怎么和孩子沟通 |
| **对话模板** | 具体的对话示例 | 作为父母，我希望有可参考的话术 |

#### F4: 孩子档案

| 功能点 | 描述 | 用户故事 |
|--------|------|---------|
| **基本信息** | 姓名、昵称、生日、性别 | 作为父母，我希望AI了解我的孩子 |
| **成长档案** | 长期积累的成长数据 | 作为父母，我希望记录孩子的成长轨迹 |
| **兴趣标签** | AI自动识别的孩子兴趣 | 作为父母，我希望了解孩子的兴趣变化 |

### 2.2 重要功能（P1 - Should Have）

#### F5: 周报/月报

| 功能点 | 描述 | 用户故事 |
|--------|------|---------|
| **周度总结** | 本周成长亮点和关注点 | 作为父母，我希望看到孩子一周的变化 |
| **月度总结** | 本月成长轨迹和趋势 | 作为父母，我希望看到更长期的成长 |
| **对比分析** | 与上周/上月的对比 | 作为父母，我希望看到孩子的进步 |
| **成长里程碑** | 重要的成长节点标记 | 作为父母，我希望记住孩子的重要时刻 |

#### F6: 育儿问答

| 功能点 | 描述 | 用户故事 |
|--------|------|---------|
| **AI问答** | 向AI提问育儿问题 | 作为父母，我希望随时获得育儿建议 |
| **情境问答** | 结合孩子档案的个性化回答 | 作为父母，我希望建议是针对我孩子的 |
| **问题收藏** | 收藏有用的问答 | 作为父母，我希望保存有价值的建议 |

#### F7: 家庭成员

| 功能点 | 描述 | 用户故事 |
|--------|------|---------|
| **邀请成员** | 邀请家人加入 | 作为父母，我希望和家人一起关注孩子 |
| **权限管理** | 设置不同角色的权限 | 作为父母，我希望控制谁能看到什么 |
| **多孩子** | 支持多个孩子档案 | 作为父母，我希望管理多个孩子 |

### 2.3 增强功能（P2 - Nice to Have）

#### F8: 搜索与回顾

| 功能点 | 描述 |
|--------|------|
| **关键词搜索** | 搜索历史记录和报告 |
| **日历视图** | 按日期浏览历史 |
| **话题筛选** | 按话题筛选内容 |

#### F9: 数据导出

| 功能点 | 描述 |
|--------|------|
| **报告导出** | 导出报告为PDF |
| **数据备份** | 备份孩子成长数据 |

#### F10: 个性化设置

| 功能点 | 描述 |
|--------|------|
| **推送设置** | 自定义推送频率和时间 |
| **报告偏好** | 自定义报告内容偏好 |
| **隐私设置** | 数据隐私控制 |

---

## 三、功能优先级矩阵

```
                    用户价值
                      高
                       │
           ┌──────────┼──────────┐
           │  P1      │   P0     │
           │  周报    │   每日报告 │
           │  问答    │   设备管理 │
           │  家庭    │   实时消息 │
           │          │   孩子档案 │
    实现   ├──────────┼──────────┤ 实现
    难度   │  P2      │   -      │ 难度
    高     │  搜索    │          │ 低
           │  导出    │          │
           │  设置    │          │
           │          │          │
           └──────────┴──────────┘
                       │
                      低
                    用户价值
```

---

## 四、MVP功能范围

### 4.1 MVP必须包含

| 功能 | 原因 |
|------|------|
| **设备配对** | 没有配对就无法使用 |
| **设备状态** | 用户需要知道设备是否正常 |
| **实时消息** | 核心价值的即时体现 |
| **每日报告** | 核心价值的完整体现 |
| **孩子档案** | AI个性化的基础 |
| **互动建议** | 差异化价值的关键 |

### 4.2 MVP可延后

| 功能 | 延后原因 |
|------|---------|
| 周报/月报 | 需要积累数据才有意义 |
| 育儿问答 | 报告中已包含建议 |
| 家庭成员 | 单用户足够验证价值 |
| 搜索回顾 | 数据量少时不急需 |
| 数据导出 | 非核心功能 |

### 4.3 MVP功能完整列表（3 Tab架构）

> **更新日期**：2025-02-05
> **架构变更**：从4-5 Tab简化为3 Tab

```
┌─────────────────────────────────────────────────────────────┐
│                    MVP APP 功能清单（3 Tab）                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🏠 首页 (Home)                                              │
│  ├── 设备状态胶囊（在线/电量/信号）                           │
│  ├── 今日报告总览                                            │
│  │   ├── 一句话总结                                          │
│  │   ├── 情绪状态                                            │
│  │   └── 话题标签                                            │
│  ├── 今日精选动态（2-3条关键对话）                            │
│  └── 互动策略卡片 ⭐                                         │
│      ├── 针对事件的育儿建议                                  │
│      └── 对话模板（可复制）                                  │
│                                                             │
│  💬 记录 (Records) - 核心交互区                              │
│  ├── 话题总览（标签云）                                      │
│  ├── 对话信息流                                              │
│  │   ├── 时间线展示                                          │
│  │   ├── 对话原文                                            │
│  │   └── AI洞察标注                                          │
│  ├── 话题详情页                                              │
│  │   ├── 话题统计                                            │
│  │   └── 相关对话列表                                        │
│  └── AI对话入口 ⭐⭐                                         │
│      ├── 文字输入                                            │
│      ├── 语音输入                                            │
│      └── "最了解孩子的AI"对话                                │
│                                                             │
│  👤 我的 (Mine)                                              │
│  ├── 孩子管理                                                │
│  │   ├── 基本信息（姓名/生日）                               │
│  │   └── 兴趣标签（AI自动识别）                              │
│  ├── 设备管理                                                │
│  │   ├── 设备状态                                            │
│  │   ├── 流量管理/续费                                       │
│  │   └── 固件更新                                            │
│  ├── 通知设置                                                │
│  ├── 隐私设置                                                │
│  ├── 账号设置                                                │
│  └── 帮助与关于                                              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 4.4 3 Tab设计理念

| Tab | 定位 | 用户场景 |
|-----|------|---------|
| **首页** | 快速了解 | "看一眼就知道孩子今天怎么了，怎么和他聊" |
| **记录** | 深度探索 | "我想更深入了解孩子，或者直接问AI" |
| **我的** | 管理配置 | "设备、账号等低频操作" |

---

## 五、功能详细规格

### 5.1 每日报告详细结构

```
┌─────────────────────────────────────────────────────────────┐
│                    每日成长报告结构                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  报告头部                                                    │
│  ├── 日期：2025年2月5日 星期三                               │
│  ├── 孩子：小明                                              │
│  └── 数据来源：今日对话 32分钟                                │
│                                                             │
│  ────────────────────────────────────────────               │
│                                                             │
│  📝 今日总结                                                 │
│  │                                                          │
│  │  "今天小明在幼儿园度过了愉快的一天。他和好朋友小红一起        │
│  │   玩了积木，还学会了一首新儿歌。下午他问了很多关于恐龙        │
│  │   的问题，看来他最近对恐龙很感兴趣。"                       │
│  │                                                          │
│  ────────────────────────────────────────────               │
│                                                             │
│  🎯 关键事件                                                 │
│  │                                                          │
│  │  [积极] 和小红一起搭了一座很高的积木城堡                    │
│  │  [好奇] 问了5个关于恐龙的问题                              │
│  │  [关注] 提到不想午睡，有点抗拒                              │
│  │                                                          │
│  ────────────────────────────────────────────               │
│                                                             │
│  😊 情绪状态                                                 │
│  │                                                          │
│  │  整体情绪：开心 😊                                        │
│  │  情绪分布：开心 60% | 好奇 30% | 平静 10%                  │
│  │  情绪说明：今天小明整体情绪很好，对新事物充满好奇           │
│  │                                                          │
│  ────────────────────────────────────────────               │
│                                                             │
│  💡 话题热点                                                 │
│  │                                                          │
│  │  #恐龙  #积木  #幼儿园  #小红  #儿歌                       │
│  │                                                          │
│  ────────────────────────────────────────────               │
│                                                             │
│  ⭐ 互动建议（核心价值）                                      │
│  │                                                          │
│  │  💬 关于恐龙的兴趣                                        │
│  │  ├── 建议：趁热打铁，可以给孩子看恐龙科普绘本               │
│  │  ├── 话题切入："我听说你今天问了好多恐龙的问题，              │
│  │  │             你最喜欢哪种恐龙呀？"                       │
│  │  └── 延伸活动：周末可以去自然博物馆看恐龙化石               │
│  │                                                          │
│  │  💬 关于不想午睡                                          │
│  │  ├── 建议：了解原因，可能是不困或有其他想法                 │
│  │  ├── 话题切入："听说你今天不太想午睡，是不是有               │
│  │  │             什么好玩的事情不想错过呀？"                  │
│  │  └── 注意事项：不要批评，先倾听                            │
│  │                                                          │
│  ────────────────────────────────────────────               │
│                                                             │
│  📖 对话模板                                                 │
│  │                                                          │
│  │  场景：晚饭后和孩子聊天                                    │
│  │                                                          │
│  │  开场白：                                                 │
│  │  "今天在幼儿园开心吗？听说你和小红一起搭积木了，              │
│  │   你们搭了什么呀？"                                       │
│  │                                                          │
│  │  深入话题：                                               │
│  │  "哇，城堡！那城堡里住着谁呢？是恐龙吗？                    │
│  │   我听说你最近很喜欢恐龙呢~"                               │
│  │                                                          │
│  │  引导表达：                                               │
│  │  "你最喜欢哪种恐龙？为什么喜欢它呀？"                       │
│  │                                                          │
│  └─────────────────────────────────────────                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 5.2 互动建议的价值定位

```
┌─────────────────────────────────────────────────────────────┐
│                  互动建议 - 核心差异化价值                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  传统产品：                                                  │
│  ┌─────────────────────────────────────────┐                │
│  │  只告诉你孩子做了什么                      │                │
│  │  "今天孩子问了关于死亡的问题"               │                │
│  │                                          │                │
│  │  然后呢？家长不知道怎么办                   │                │
│  └─────────────────────────────────────────┘                │
│                                                             │
│                       ▼                                     │
│                                                             │
│  小星伴：                                                    │
│  ┌─────────────────────────────────────────┐                │
│  │  不仅告诉你孩子做了什么                    │                │
│  │  还告诉你应该怎么回应                      │                │
│  │                                          │                │
│  │  "今天孩子问了关于死亡的问题"               │                │
│  │                                          │                │
│  │  💡 建议：                                │                │
│  │  这是孩子认知发展的正常阶段，不要回避       │                │
│  │                                          │                │
│  │  💬 话题切入：                            │                │
│  │  "你是不是想知道人为什么会死呀？            │                │
│  │   这个问题很好，我们一起聊聊好吗？"         │                │
│  │                                          │                │
│  │  📚 参考：                                │                │
│  │  推荐绘本《爷爷变成了幽灵》                 │                │
│  └─────────────────────────────────────────┘                │
│                                                             │
│  价值：从"了解"到"行动"，让父母知道下一步做什么                │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 六、技术约束

### 6.1 平台要求

| 平台 | 最低版本 | 说明 |
|------|---------|------|
| iOS | iOS 14.0+ | 覆盖95%以上用户 |
| Android | Android 8.0+ | 覆盖90%以上用户 |

### 6.2 性能要求

| 指标 | 目标值 |
|------|--------|
| 启动时间 | <3秒 |
| 页面切换 | <300ms |
| 报告加载 | <2秒 |
| 推送延迟 | <5秒 |

### 6.3 离线能力

| 功能 | 离线支持 |
|------|---------|
| 查看历史报告 | ✅ 支持 |
| 设备配对 | ❌ 需要网络 |
| 接收推送 | ❌ 需要网络 |
| 浏览孩子档案 | ✅ 支持 |

---

## 七、下一步

1. **用户旅程设计** → `02-user-journey.md`
2. **信息架构设计** → `03-information-architecture.md`
3. **线框图设计** → `04-wireframes.md`
